# Cloudflare

Cloudflare معمولاً برای DNS، محافظت و CDN استفاده می‌شود. اما در استریمینگ باید با دقت تنظیم شود.

## حالت‌های رایج

- **DNS Only (خاکستری)**: ترافیک مستقیم به سرور می‌رود.
- **Proxy (نارنجی)**: ترافیک از Cloudflare عبور می‌کند.

## توصیه‌ها

- اگر از HLS با پورت غیر استاندارد استفاده می‌کنید (مثل 8443)، مطمئن شوید Cloudflare آن پورت را پشتیبانی می‌کند.
- برای کاهش خطاهای پیچیده، گاهی بهتر است DNS Only باشد.

## بخش 5 — توصیهٔ معماری (مهم)

اگر بخواهی این را تمیزتر کنی (بعداً)، دو راه داری:

### راه A (همان حالت فعلی — OK)

```
cam.hydroleaf.se:8443
```

- ساده‌ترین حالت، بدون تغییر زیاد.
- نیاز به استفادهٔ دقیق از پورت در URL دارد.

### راه B (تمیزتر — پیشنهاد آینده)

```
cam.hydroleaf.se (port 443)
```

- Caddy روی 443 گوش می‌دهد.
- نیازی به درج پورت در URL نیست.
- خطاهای فرانت‌اند کمتر می‌شود.

> برای راه B باید TLS و روتینگ را روی 443 تنظیم کنید و مطمئن شوید که Cloudflare اجازهٔ عبور ترافیک را می‌دهد.
